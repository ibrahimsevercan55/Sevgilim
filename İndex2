<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canƒ±m Sevgilim ‚ù§Ô∏è</title>

<link rel="preload" as="image" href="foto.jpg">

<style>
:root{--p:0%}
body{
  margin:0;height:100vh;
  background:linear-gradient(120deg,#020617,#1e293b,#312e81);
  background-size:300% 300%;
  animation:bg 12s ease infinite;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  display:flex;justify-content:center;align-items:center;
  color:#fff;overflow:hidden
}
@keyframes bg{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.box{
  background:rgba(2,6,23,.9);
  padding:26px;border-radius:22px;
  width:90%;max-width:390px;text-align:center;
  box-shadow:0 0 40px rgba(255,105,180,.3);
}
.title{font-size:22px;margin-bottom:8px}
.text{font-size:21px;min-height:120px;margin:10px 0 14px}
.progress{height:10px;width:100%;background:#020617;border-radius:10px;overflow:hidden;margin-bottom:14px}
.progress span{display:block;height:100%;width:var(--p);background:linear-gradient(90deg,#22c55e,#4ade80);transition:.6s}

button{
  border:none;border-radius:14px;
  padding:11px 24px;font-size:16px;
  margin:6px;cursor:pointer
}
.yes{background:#22c55e;color:#022c22}
.no{background:#fb7185;color:#450a0a}
.replay{background:#38bdf8;color:#020617;margin-top:14px}

.photo{
  display:block;width:100%;
  border-radius:16px;margin:14px 0;
  opacity:0;
  animation:fadeIn 1s ease forwards, slowZoom 8s ease-in-out infinite;
  box-shadow:0 0 20px rgba(255,255,255,.2);
}

@keyframes fadeIn{to{opacity:1}}
@keyframes slowZoom{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}

.loveTitle{
  font-size:26px;
  margin-bottom:10px;
  animation:drop 1.2s ease forwards;
}
@keyframes drop{
  from{opacity:0;transform:translateY(-20px)}
  to{opacity:1;transform:translateY(0)}
}

.heart{
  position:fixed;top:-20px;
  font-size:22px;
  animation:fall linear forwards
}
@keyframes fall{
  to{transform:translateY(110vh);opacity:0}
}

.big{font-size:56px;animation:pulse 1s infinite}
@keyframes pulse{50%{transform:scale(1.3)}}
</style>
</head>

<body>

<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="box">
  <div class="title">Canƒ±m E≈üim ‚ù§Ô∏è</div>
  <div class="text" id="text"></div>
  <div class="progress"><span></span></div>
  <div id="buttons"></div>
</div>

<script>
const t=document.getElementById("text");
const b=document.getElementById("buttons");
const root=document.documentElement;
const music=document.getElementById("music");
let step=0;

function type(txt,cb){
  t.innerHTML="";let i=0;
  const s=setInterval(()=>{
    t.innerHTML+=txt[i++];
    if(i>=txt.length){clearInterval(s);cb&&cb()}
  },40);
}
function buttons(arr){
  b.innerHTML="";
  arr.forEach(x=>{
    const btn=document.createElement("button");
    btn.textContent=x.t;btn.className=x.c;btn.onclick=x.f;
    b.appendChild(btn);
  });
}
function addP(){step++;root.style.setProperty("--p",(step*10)+"%");}

function rain(){
  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.textContent=Math.random()>0.5?"‚ù§Ô∏è":"üíñ";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=(2+Math.random()*3)+"s";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),5000);
  },220);
}

/* ---- Hƒ∞K√ÇYE SAHNELERƒ∞ ---- */

type("Sana k√º√ß√ºk bir hik√¢ye hazƒ±rladƒ±m‚Ä¶ ü´∂",()=>buttons([
  {t:"Ba≈ülayalƒ±m",c:"yes",f:()=>{
    music.volume=0.4; music.play();
    q1();
  }}
]));

function q1(){
  addP();
  type("Bug√ºn biraz aƒüƒ±r mƒ± geliyor?",()=>buttons([
    {t:"Evet‚Ä¶",c:"yes",f:q2},
    {t:"Biraz",c:"no",f:q2}
  ]));
}
function q2(){
  addP();
  type("Bazen insan yorulduƒüunu bile anlatamaz.",()=>buttons([
    {t:"Doƒüru",c:"yes",f:q3},
    {t:"Haklƒ±sƒ±n",c:"no",f:q3}
  ]));
}
function q3(){
  addP();
  type("Sadece anla≈üƒ±lmak ister.",()=>buttons([
    {t:"Evet",c:"yes",f:q4},
    {t:"Kesinlikle",c:"no",f:q4}
  ]));
}
function q4(){
  addP();
  type("Bazen sessizlik bile √ßok ≈üey anlatƒ±r.",()=>buttons([
    {t:"Anlatƒ±r",c:"yes",f:q5},
    {t:"Evet",c:"no",f:q5}
  ]));
}
function q5(){
  addP();
  type("ƒ∞≈üte o anlarda biri yakƒ±nda olsun istersin.",()=>buttons([
    {t:"Sarƒ±lmak ü§ç",c:"yes",f:q6},
    {t:"Yanƒ±mda olsun",c:"no",f:q6}
  ]));
}
function q6(){
  addP();
  type("Ben buradayƒ±m.",()=>buttons([
    {t:"Biliyorum",c:"yes",f:q7},
    {t:"Hissediyorum",c:"no",f:q7}
  ]));
}
function q7(){
  addP();
  type("Sadece bug√ºn deƒüil.",()=>buttons([
    {t:"Devam et",c:"yes",f:q8}
  ]));
}
function q8(){
  addP();
  type("Her zaman.",()=>buttons([
    {t:"‚ù§Ô∏è",c:"yes",f:q9}
  ]));
}
function q9(){
  addP();
  type("√á√ºnk√º sen √ßok deƒüerlisin.",()=>buttons([
    {t:"Biliyorum",c:"yes",f:final}
  ]));
}

/* ---- Fƒ∞NAL ---- */

function final(){
  b.innerHTML="";
  t.innerHTML=`
    <div class="loveTitle">Canƒ±m E≈üim ‚ù§Ô∏è</div>
    <img class="photo" src="foto.jpg" alt="Biz ‚ù§Ô∏è">
    G√ºl√ºmse üòÑ<br><br>
    Bu hik√¢yenin kahramanƒ± sensin.<br>
    Seni √ßok seviyorum.<br><br>
    <span class="big">‚ù§Ô∏è</span><br>
    <button class="replay" onclick="restart()">Tekrar Oyna üîÅ</button>
  `;

  setTimeout(()=>{
    t.style.display="none";t.offsetHeight;t.style.display="block";
  },50);

  navigator.vibrate && navigator.vibrate([200,100,200]);
  rain();
}

function restart(){
  location.reload();
}
</script>
</body>
</html>
